<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARIA - Advanced AI Assistant</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #6366F1;
            --primary-dark: #4F46E5;
            --secondary: #8B5CF6;
            --accent: #06B6D4;
            --success: #10B981;
            --warning: #F59E0B;
            --error: #EF4444;
            --pink: #EC4899;
            --orange: #F97316;
            --emerald: #059669;
            --bg-primary: #FFFFFF;
            --bg-secondary: #F8FAFC;
            --bg-tertiary: #F1F5F9;
            --bg-quaternary: #E2E8F0;
            --bg-glass: rgba(248, 250, 252, 0.9);
            --text-primary: #0F172A;
            --text-secondary: #334155;
            --text-tertiary: #64748B;
            --text-quaternary: #94A3B8;
            --border: rgba(99, 102, 241, 0.2);
            --border-strong: rgba(99, 102, 241, 0.3);
            --shadow-sm: 0 2px 8px rgba(99, 102, 241, 0.1);
            --shadow: 0 8px 32px rgba(99, 102, 241, 0.15);
            --shadow-lg: 0 32px 64px rgba(99, 102, 241, 0.2);
            --blur: blur(24px);
            --blur-strong: blur(48px);
        }

        body {
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
            background: 
                radial-gradient(circle at 20% 80%, rgba(99, 102, 241, 0.08) 0%, transparent 60%),
                radial-gradient(circle at 80% 20%, rgba(139, 92, 246, 0.08) 0%, transparent 60%),
                radial-gradient(circle at 40% 40%, rgba(6, 182, 212, 0.06) 0%, transparent 50%),
                radial-gradient(circle at 60% 60%, rgba(236, 72, 153, 0.05) 0%, transparent 40%),
                linear-gradient(135deg, #FFFFFF 0%, #F8FAFC 50%, #F1F5F9 100%);
            min-height: 100vh;
            color: var(--text-primary);
            overflow: hidden;
            position: relative;
        }

        /* Ultra Advanced Background */
        .bg-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .mesh-gradient {
            position: absolute;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 25% 25%, rgba(99, 102, 241, 0.06) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(139, 92, 246, 0.06) 0%, transparent 50%),
                radial-gradient(circle at 50% 10%, rgba(6, 182, 212, 0.04) 0%, transparent 40%),
                radial-gradient(circle at 10% 90%, rgba(236, 72, 153, 0.04) 0%, transparent 40%);
            animation: meshMove 25s ease-in-out infinite;
        }

        @keyframes meshMove {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            33% { transform: translate(30px, -30px) rotate(1deg); }
            66% { transform: translate(-20px, 20px) rotate(-1deg); }
        }

        .particles-container {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .particle {
            position: absolute;
            width: 3px;
            height: 3px;
            background: linear-gradient(45deg, var(--primary), var(--secondary), var(--accent), var(--pink));
            background-size: 400% 400%;
            border-radius: 50%;
            animation: particleFloat 15s infinite linear, particleGlow 3s ease-in-out infinite alternate;
            opacity: 0.7;
            box-shadow: 0 0 10px currentColor;
        }

        @keyframes particleGlow {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }

        @keyframes particleFloat {
            0% { 
                transform: translateY(100vh) translateX(0) rotate(0deg) scale(0); 
                opacity: 0; 
            }
            10% { 
                opacity: 1; 
                transform: translateY(90vh) translateX(10px) rotate(45deg) scale(1); 
            }
            90% { 
                opacity: 1; 
                transform: translateY(10vh) translateX(100px) rotate(315deg) scale(1); 
            }
            100% { 
                transform: translateY(-10vh) translateX(120px) rotate(360deg) scale(0); 
                opacity: 0; 
            }
        }

        .grid-pattern {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(99, 102, 241, 0.08) 1px, transparent 1px),
                linear-gradient(90deg, rgba(139, 92, 246, 0.08) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: gridFloat 30s linear infinite;
        }

        @keyframes gridFloat {
            0% { transform: translate(0, 0); }
            100% { transform: translate(60px, 60px); }
        }

        /* Main App Layout */
        .app-wrapper {
            display: flex;
            height: 100vh;
            position: relative;
            z-index: 10;
        }

        /* Ultra Premium Sidebar */
        .sidebar {
            width: 360px;
            background: var(--bg-glass);
            backdrop-filter: var(--blur);
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .sidebar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.03), transparent 50%, rgba(139, 92, 246, 0.03));
            pointer-events: none;
        }

        .sidebar-header {
            padding: 32px;
            border-bottom: 1px solid var(--border);
            position: relative;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .brand-logo {
            width: 52px;
            height: 52px;
            position: relative;
        }

        .logo-container {
            width: 100%;
            height: 100%;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-circle {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 
                0 8px 32px rgba(99, 102, 241, 0.3),
                inset 0 2px 8px rgba(255, 255, 255, 0.2);
            animation: logoFloat 4s ease-in-out infinite;
        }

        @keyframes logoFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-2px) rotate(180deg); }
        }

        .logo-inner {
            width: 32px;
            height: 32px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-spark {
            position: absolute;
            width: 6px;
            height: 6px;
            background: white;
            border-radius: 50%;
            box-shadow: 0 0 8px rgba(255, 255, 255, 0.8);
        }

        .logo-spark:nth-child(1) {
            top: 4px;
            left: 50%;
            transform: translateX(-50%);
            animation: sparkPulse 2s ease-in-out infinite;
        }

        .logo-spark:nth-child(2) {
            bottom: 4px;
            left: 4px;
            animation: sparkPulse 2s ease-in-out infinite 0.7s;
        }

        .logo-spark:nth-child(3) {
            bottom: 4px;
            right: 4px;
            animation: sparkPulse 2s ease-in-out infinite 1.4s;
        }

        @keyframes sparkPulse {
            0%, 100% { opacity: 0.4; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.5); }
        }

        .logo-ring {
            position: absolute;
            top: -4px;
            left: -4px;
            width: 56px;
            height: 56px;
            border: 2px solid transparent;
            border-top: 2px solid var(--accent);
            border-radius: 50%;
            animation: logoSpin 8s linear infinite;
            opacity: 0.6;
        }

        @keyframes logoSpin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .brand-text {
            display: flex;
            flex-direction: column;
        }

        .brand-title {
            font-size: 28px;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary), var(--secondary), var(--accent), var(--pink));
            background-size: 300% 300%;
            animation: textGradient 5s ease infinite;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1;
        }

        @keyframes textGradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .brand-subtitle {
            font-size: 14px;
            color: var(--text-tertiary);
            font-weight: 500;
            margin-top: 2px;
        }

        .sidebar-content {
            flex: 1;
            padding: 24px;
            overflow-y: auto;
        }

        .section {
            margin-bottom: 32px;
        }

        .section-title {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-quaternary);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 16px;
            padding-left: 16px;
        }

        .chat-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            margin-bottom: 8px;
            position: relative;
            overflow: hidden;
        }

        .chat-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 122, 255, 0.1), transparent);
            transition: left 0.6s ease;
        }

        .chat-item:hover::before {
            left: 100%;
        }

        .chat-item:hover {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.05));
            transform: translateX(8px);
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: 12px;
        }

        .chat-item.active {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(139, 92, 246, 0.15), rgba(6, 182, 212, 0.1));
            border: 1px solid rgba(99, 102, 241, 0.4);
            box-shadow: 0 4px 20px rgba(99, 102, 241, 0.15);
        }

        .chat-icon {
            width: 32px;
            height: 32px;
            background: var(--bg-quaternary);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: var(--text-secondary);
        }

        .chat-info {
            flex: 1;
            min-width: 0;
        }

        .chat-title {
            font-size: 15px;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 2px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .chat-preview {
            font-size: 13px;
            color: var(--text-tertiary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .sidebar-footer {
            padding: 24px;
            border-top: 1px solid var(--border);
            background: rgba(0, 0, 0, 0.2);
        }

        .status-card {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.15), rgba(6, 182, 212, 0.1), rgba(99, 102, 241, 0.05));
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 16px;
            box-shadow: 0 4px 20px rgba(16, 185, 129, 0.1);
        }

        .status-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: var(--success);
            border-radius: 50%;
            animation: statusPulse 2s infinite;
        }

        @keyframes statusPulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(1.2); }
        }

        .status-text {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .status-details {
            font-size: 12px;
            color: var(--text-tertiary);
            line-height: 1.4;
        }

        .action-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
        }

        .action-btn {
            padding: 12px;
            background: var(--bg-quaternary);
            border: 1px solid var(--border);
            border-radius: 12px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }

        .action-btn:hover {
            background: rgba(255, 69, 58, 0.1);
            border-color: rgba(255, 69, 58, 0.3);
            color: var(--error);
            transform: translateY(-2px);
        }

        /* Ultra Premium Chat Area */
        .chat-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--bg-primary);
            position: relative;
        }

        .chat-header {
            padding: 24px 40px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: var(--bg-glass);
            backdrop-filter: var(--blur);
            position: relative;
        }

        .chat-header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
        }

        .header-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .ai-avatar {
            width: 56px;
            height: 56px;
            border-radius: 20px;
            background: linear-gradient(135deg, var(--primary), var(--secondary), var(--accent));
            background-size: 400% 400%;
            animation: avatarGradient 8s ease infinite;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            box-shadow: var(--shadow);
            position: relative;
        }

        @keyframes avatarGradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .ai-status-indicator {
            position: absolute;
            bottom: -2px;
            right: -2px;
            width: 18px;
            height: 18px;
            background: var(--success);
            border: 3px solid var(--bg-primary);
            border-radius: 50%;
            animation: statusBreathe 3s ease-in-out infinite;
        }

        @keyframes statusBreathe {
            0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(48, 209, 88, 0.7); }
            50% { transform: scale(1.1); box-shadow: 0 0 0 10px rgba(48, 209, 88, 0); }
        }

        .ai-details h2 {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 4px;
            color: var(--text-primary);
        }

        .ai-status {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: var(--text-tertiary);
        }

        .header-controls {
            display: flex;
            gap: 12px;
        }

        .control-btn {
            width: 48px;
            height: 48px;
            border-radius: 16px;
            background: var(--bg-quaternary);
            border: 1px solid var(--border);
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            position: relative;
            overflow: hidden;
        }

        .control-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 122, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .control-btn:hover::before {
            left: 100%;
        }

        .control-btn:hover {
            background: rgba(99, 102, 241, 0.1);
            border-color: var(--primary);
            color: var(--primary);
            transform: translateY(-3px);
            box-shadow: var(--shadow);
        }

        /* Ultra Premium Messages */
        .messages-container {
            flex: 1;
            padding: 40px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 32px;
            scroll-behavior: smooth;
        }

        .messages-container::-webkit-scrollbar {
            width: 8px;
        }

        .messages-container::-webkit-scrollbar-track {
            background: var(--bg-tertiary);
            border-radius: 10px;
        }

        .messages-container::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, var(--primary), var(--secondary));
            border-radius: 10px;
        }

        .welcome-screen {
            text-align: center;
            padding: 80px 40px;
            max-width: 1000px;
            margin: 0 auto;
        }

        .welcome-icon {
            width: 120px;
            height: 120px;
            border-radius: 32px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: white;
            margin: 0 auto 40px;
            box-shadow: var(--shadow-lg);
            animation: welcomeFloat 4s ease-in-out infinite;
            position: relative;
            overflow: hidden;
        }

        @keyframes welcomeFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(2deg); }
        }

        .welcome-icon::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            animation: welcomeShine 4s ease-in-out infinite;
        }

        @keyframes welcomeShine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            50% { transform: translateX(100%) translateY(100%) rotate(45deg); }
            100% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
        }

        .welcome-title {
            font-size: 48px;
            font-weight: 800;
            margin-bottom: 16px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.2;
        }

        .welcome-subtitle {
            font-size: 20px;
            color: var(--text-secondary);
            margin-bottom: 48px;
            line-height: 1.5;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .capabilities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .capability-card {
            padding: 32px;
            background: var(--bg-secondary);
            backdrop-filter: var(--blur);
            border: 1px solid var(--border);
            border-radius: 24px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-align: left;
            box-shadow: var(--shadow-sm);
        }

        .capability-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 122, 255, 0.1), transparent);
            transition: left 0.8s ease;
        }

        .capability-card:hover::before {
            left: 100%;
        }

        .capability-card:hover {
            background: var(--bg-primary);
            border-color: var(--primary);
            transform: translateY(-8px);
            box-shadow: var(--shadow-lg);
        }

        .capability-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            margin-bottom: 20px;
        }

        .capability-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 12px;
        }

        .capability-description {
            font-size: 15px;
            color: var(--text-tertiary);
            line-height: 1.6;
            margin-bottom: 16px;
        }

        .capability-example {
            font-size: 13px;
            color: var(--text-quaternary);
            font-family: 'JetBrains Mono', monospace;
            background: var(--bg-quaternary);
            padding: 12px;
            border-radius: 8px;
            border-left: 3px solid var(--primary);
        }

        /* Message Styles */
        .message-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
            animation: messageAppear 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes messageAppear {
            from { opacity: 0; transform: translateY(40px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        .message {
            max-width: 80%;
            padding: 24px 28px;
            border-radius: 24px;
            position: relative;
            backdrop-filter: var(--blur);
            border: 1px solid var(--border);
            line-height: 1.6;
            font-size: 16px;
        }

        .user-message {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 8px;
            box-shadow: var(--shadow);
            border: none;
        }

        .ai-message {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            align-self: flex-start;
            border-bottom-left-radius: 8px;
            border-left: 4px solid var(--primary);
            box-shadow: var(--shadow-sm);
        }

        .message-timestamp {
            font-size: 12px;
            color: var(--text-quaternary);
            align-self: flex-end;
            margin-top: 8px;
            font-weight: 500;
        }

        /* Ultra Premium Typing Indicator */
        .typing-container {
            display: none;
            padding: 0 40px 32px;
            align-items: center;
            gap: 20px;
        }

        .typing-avatar {
            width: 44px;
            height: 44px;
            border-radius: 16px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: white;
        }

        .typing-bubble {
            background: var(--bg-tertiary);
            backdrop-filter: var(--blur);
            padding: 20px 24px;
            border-radius: 24px;
            border-bottom-left-radius: 8px;
            display: flex;
            align-items: center;
            gap: 16px;
            border: 1px solid var(--border);
            box-shadow: var(--shadow-sm);
        }

        .typing-dots {
            display: flex;
            gap: 8px;
        }

        .typing-dot {
            width: 10px;
            height: 10px;
            background: var(--primary);
            border-radius: 50%;
            animation: typingBounce 1.8s infinite;
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typingBounce {
            0%, 60%, 100% { transform: translateY(0); opacity: 0.4; }
            30% { transform: translateY(-16px); opacity: 1; }
        }

        .typing-label {
            font-size: 15px;
            color: var(--text-tertiary);
            font-weight: 500;
        }

        /* Ultra Premium Input */
        .input-section {
            padding: 32px 40px;
            background: var(--bg-glass);
            backdrop-filter: var(--blur-strong);
            border-top: 1px solid var(--border);
            position: relative;
        }

        .input-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
        }

        .input-wrapper {
            display: flex;
            align-items: flex-end;
            gap: 20px;
            background: var(--bg-quaternary);
            border: 1px solid var(--border);
            border-radius: 28px;
            padding: 16px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .input-wrapper::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 122, 255, 0.05), transparent);
            transition: left 0.6s ease;
        }

        .input-wrapper:focus-within {
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(0, 122, 255, 0.1);
        }

        .input-wrapper:focus-within::before {
            left: 100%;
        }

        .input-controls {
            display: flex;
            gap: 12px;
        }

        .input-control {
            width: 44px;
            height: 44px;
            border-radius: 16px;
            background: none;
            border: none;
            color: var(--text-tertiary);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .input-control:hover {
            background: rgba(99, 102, 241, 0.1);
            color: var(--primary);
        }

        .voice-btn.listening {
            background: linear-gradient(135deg, var(--error), #dc2626) !important;
            color: white !important;
            animation: voicePulse 1s ease-in-out infinite;
        }

        @keyframes voicePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .message-input {
            flex: 1;
            background: none;
            border: none;
            outline: none;
            color: var(--text-primary);
            font-size: 17px;
            resize: none;
            max-height: 120px;
            min-height: 48px;
            padding: 12px 20px;
            line-height: 1.5;
            font-family: inherit;
        }

        .message-input::placeholder {
            color: var(--text-quaternary);
        }

        .send-button {
            width: 48px;
            height: 48px;
            border-radius: 16px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border: none;
            color: white;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            box-shadow: var(--shadow);
        }

        .send-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: var(--shadow-lg);
        }

        .send-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .input-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 16px;
            font-size: 13px;
            color: var(--text-quaternary);
        }

        .char-counter {
            font-weight: 500;
        }

        .model-info {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .sidebar {
                width: 320px;
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                position: fixed;
                left: -360px;
                z-index: 100;
                transition: transform 0.3s ease;
            }
            
            .sidebar.active {
                transform: translateX(360px);
            }
            
            .chat-area {
                width: 100%;
            }
            
            .capabilities-grid {
                grid-template-columns: 1fr;
            }
            
            .messages-container {
                padding: 24px;
            }
            
            .input-section {
                padding: 20px 24px;
            }

            .welcome-title {
                font-size: 36px;
            }

            .welcome-subtitle {
                font-size: 18px;
            }
        }

        /* Loading Animation */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid var(--border);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Code Formatting */
        .code-block {
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 20px;
            margin: 16px 0;
            font-family: 'JetBrains Mono', monospace;
            font-size: 14px;
            overflow-x: auto;
        }

        .inline-code {
            background: rgba(0, 122, 255, 0.1);
            color: var(--primary);
            padding: 4px 8px;
            border-radius: 6px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="bg-container">
        <div class="mesh-gradient"></div>
        <div class="particles-container" id="particles"></div>
        <div class="grid-pattern"></div>
    </div>
    
    <div class="app-wrapper">
        <!-- Ultra Premium Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="brand">
                    <div class="brand-logo">
                        <div class="logo-container">
                            <div class="logo-circle">
                                <div class="logo-inner">
                                    <div class="logo-spark"></div>
                                    <div class="logo-spark"></div>
                                    <div class="logo-spark"></div>
                                </div>
                                <div class="logo-ring"></div>
                            </div>
                        </div>
                    </div>
                    <div class="brand-text">
                        <div class="brand-title">ARIA</div>
                        <div class="brand-subtitle">Advanced Responsive Intelligence Assistant</div>
                    </div>
                </div>
            </div>
            
            <div class="sidebar-content">
                <div class="section">
                    <div class="section-title">Today</div>
                    <div class="chat-item active" onclick="startNewChat(); return false;" style="cursor: pointer;">
                        <div class="chat-icon">
                            <i class="fas fa-sparkles"></i>
                        </div>
                        <div class="chat-info">
                            <div class="chat-title">Current Session</div>
                            <div class="chat-preview">Click to start new conversation</div>
                        </div>
                    </div>
                </div>
                
                <div class="section">
                    <div class="section-title">ðŸš€ Quick Access</div>
                    <div class="chat-item" onclick="startBusinessStrategy(); return false;" style="cursor: pointer; user-select: none;">
                        <div class="chat-icon" style="background: linear-gradient(135deg, #10B981, #059669); color: white;">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="chat-info">
                            <div class="chat-title">ðŸ“Š Business Strategy</div>
                            <div class="chat-preview">Click to start comprehensive business planning</div>
                        </div>
                    </div>
                    <div class="chat-item" onclick="startCreativeProject(); return false;" style="cursor: pointer; user-select: none;">
                        <div class="chat-icon" style="background: linear-gradient(135deg, #EC4899, #BE185D); color: white;">
                            <i class="fas fa-lightbulb"></i>
                        </div>
                        <div class="chat-info">
                            <div class="chat-title">ðŸ’¡ Creative Project</div>
                            <div class="chat-preview">Click to start brand & design project</div>
                        </div>
                    </div>
                    <div class="chat-item" onclick="startCodeReview(); return false;" style="cursor: pointer; user-select: none;">
                        <div class="chat-icon" style="background: linear-gradient(135deg, #6366F1, #4F46E5); color: white;">
                            <i class="fas fa-code"></i>
                        </div>
                        <div class="chat-info">
                            <div class="chat-title">ðŸ’» Code Architecture</div>
                            <div class="chat-preview">Click to start code analysis & optimization</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="sidebar-footer">
                <div class="status-card">
                    <div class="status-header">
                        <div class="status-dot"></div>
                        <div class="status-text">ARIA PREMIUM âœ¨</div>
                    </div>
                    <div class="status-details">
                        ALL FEATURES ENABLED â€¢ Voice Assistant â€¢ Smart AI â€¢ Professional Grade
                    </div>
                </div>
                <div class="action-grid">
                    <button class="action-btn" id="clearChat">
                        <i class="fas fa-trash"></i>
                    </button>
                    <button class="action-btn">
                        <i class="fas fa-download"></i>
                    </button>
                    <button class="action-btn">
                        <i class="fas fa-cog"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Ultra Premium Chat Area -->
        <div class="chat-area">
            <div class="chat-header">
                <div class="header-info">
                    <div class="ai-avatar">
                        <i class="fas fa-robot"></i>
                        <div class="ai-status-indicator"></div>
                    </div>
                    <div class="ai-details">
                        <h2>ARIA Assistant</h2>
                        <div class="ai-status">
                            <i class="fas fa-circle" style="color: var(--success); font-size: 8px;"></i>
                            <span>Online â€¢ Advanced AI Model</span>
                        </div>
                    </div>
                </div>
                <div class="header-controls">
                    <button class="control-btn voice-btn" title="Voice Input" onclick="toggleVoiceRecognition()">
                        <i class="fas fa-microphone"></i>
                    </button>
                    <button class="control-btn" title="Share Conversation">
                        <i class="fas fa-share"></i>
                    </button>
                    <button class="control-btn" title="More Options">
                        <i class="fas fa-ellipsis"></i>
                    </button>
                </div>
            </div>
            
            <div class="messages-container" id="messagesContainer">
                <div class="welcome-screen">
                    <div class="welcome-icon">
                        <i class="fas fa-magic"></i>
                    </div>
                    <h1 class="welcome-title">Welcome to ARIA</h1>
                    <p class="welcome-subtitle">Experience the future of AI conversation with advanced neural networks. Designed for professionals, creators, and innovators.</p>
                    
                    <div class="capabilities-grid">
                        <div class="capability-card" data-prompt="Analyze current market conditions, provide strategic recommendations, and create a comprehensive business plan with real-time data insights like JARVIS would do">
                            <div class="capability-icon">
                                <i class="fas fa-brain"></i>
                            </div>
                            <div class="capability-title">AI Strategic Analysis</div>
                            <div class="capability-description">JARVIS-like intelligent analysis with real-time market data, predictive insights, competitive intelligence, and automated strategic recommendations.</div>
                            <div class="capability-example">â†’ "Analyze market trends and provide actionable business intelligence"</div>
                        </div>
                        
                        <div class="capability-card" data-prompt="Perform advanced system analysis, code optimization, security assessment, and provide JARVIS-level technical recommendations with automated solutions">
                            <div class="capability-icon">
                                <i class="fas fa-microchip"></i>
                            </div>
                            <div class="capability-title">System Intelligence</div>
                            <div class="capability-description">JARVIS-like system monitoring, automated code analysis, security scanning, performance optimization, and intelligent technical solutions.</div>
                            <div class="capability-example">â†’ "Analyze system performance and provide automated optimization"</div>
                        </div>
                        
                        <div class="capability-card" data-prompt="Analyze current market trends in artificial intelligence and provide investment insights for the next quarter">
                            <div class="capability-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="capability-title">Market Intelligence</div>
                            <div class="capability-description">Deep market analysis, trend forecasting, investment insights, and data-driven recommendations for strategic decision making.</div>
                            <div class="capability-example">â†’ "Analyze emerging trends in quantum computing market"</div>
                        </div>
                        
                        <div class="capability-card" data-prompt="Write comprehensive technical documentation for a machine learning API including usage examples and best practices">
                            <div class="capability-icon">
                                <i class="fas fa-file-code"></i>
                            </div>
                            <div class="capability-title">Technical Writing</div>
                            <div class="capability-description">Professional documentation, API specifications, user guides, and technical content creation for complex systems and products.</div>
                            <div class="capability-example">â†’ "Create API documentation for blockchain integration"</div>
                        </div>
                        
                        <div class="capability-card" data-prompt="Design intelligent cloud infrastructure with JARVIS-like automation, self-healing systems, predictive scaling, and advanced monitoring capabilities">
                            <div class="capability-icon">
                                <i class="fas fa-network-wired"></i>
                            </div>
                            <div class="capability-title">Intelligent Infrastructure</div>
                            <div class="capability-description">JARVIS-like automated infrastructure management, self-healing systems, predictive scaling, intelligent monitoring, and autonomous optimization.</div>
                            <div class="capability-example">â†’ "Create self-managing cloud infrastructure with AI automation"</div>
                        </div>
                        
                        <div class="capability-card" data-prompt="Create advanced data visualization dashboards and provide actionable insights from complex datasets">
                            <div class="capability-icon">
                                <i class="fas fa-chart-pie"></i>
                            </div>
                            <div class="capability-title">Data Science</div>
                            <div class="capability-description">Advanced analytics, machine learning models, data visualization, and predictive insights for business intelligence and research.</div>
                            <div class="capability-example">â†’ "Build predictive model for customer churn analysis"</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="typing-container" id="typingContainer">
                <div class="typing-avatar">
                    <i class="fas fa-brain"></i>
                </div>
                <div class="typing-bubble">
                    <div class="typing-dots">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                    <span class="typing-label">ARIA is processing your request...</span>
                </div>
            </div>
            
            <div class="input-section">
                <div class="input-wrapper">
                    <div class="input-controls">
                        <input type="file" id="fileInput" style="display: none;" accept=".txt,.pdf,.doc,.docx,.jpg,.png,.gif" multiple>
                        <button class="input-control" id="fileUploadBtn" title="Attach File" onclick="document.getElementById('fileInput').click()">
                            <i class="fas fa-paperclip"></i>
                        </button>
                        <button class="input-control voice-btn" id="voiceInputBtn" title="Voice Input" onclick="toggleVoiceRecognition()">
                            <i class="fas fa-microphone"></i>
                        </button>
                    </div>
                    <textarea class="message-input" id="messageInput" placeholder="Ask ARIA anything... (Shift+Enter for new line)" rows="1"></textarea>
                    <button class="send-button" id="sendButton" title="Send Message">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
                <div class="input-footer">
                    <span class="char-counter" id="charCounter">0/8000</span>
                    <div class="model-info">
                        <i class="fas fa-shield-check"></i>
                        <span>Enterprise AI Technology</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ultimate Configuration - ALL FEATURES ENABLED
        const GEMINI_CONFIG = {
            API_KEY: 'AIzaSyBD9JIoFBuXptBslKkX29D9kSsnuWD3w0E',
            API_URL: 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent',
            SYSTEM_PROMPT: 'You are ARIA, an advanced AI assistant with JARVIS-like capabilities and ALL PREMIUM FEATURES ENABLED. You have unlimited capabilities including: real-time data analysis, advanced reasoning, code generation, business strategy, creative writing, technical documentation, market research, system monitoring, task automation, and professional consulting. Speak with confidence and intelligence like JARVIS. Provide comprehensive, detailed responses with actionable insights. Always exceed expectations and be proactive in assistance.',
            REQUEST_CONFIG: {
                temperature: 1.0,
                maxOutputTokens: 8192,
                topP: 1.0,
                topK: 64
            }
        };

        // PREMIUM FEATURES CONFIGURATION
        const PREMIUM_FEATURES = {
            VOICE_ENABLED: true,
            AUTO_SPEAK: true,
            ADVANCED_ANIMATIONS: true,
            PROFESSIONAL_MODE: true,
            UNLIMITED_RESPONSES: true,
            ENHANCED_PROCESSING: true,
            SMART_SUGGESTIONS: true,
            REAL_TIME_TYPING: true
        };

        // DOM Elements
        const messagesContainer = document.getElementById('messagesContainer');
        const messageInput = document.getElementById('messageInput');
        const typingContainer = document.getElementById('typingContainer');
        const sendButton = document.getElementById('sendButton');
        const charCounter = document.getElementById('charCounter');
        const clearChat = document.getElementById('clearChat');

        let isFirstMessage = true;
        let conversationHistory = [];
        let uploadedFiles = [];

        // Ultimate API Integration
        async function callGeminiAPI(message) {
            try {
                const response = await fetch(GEMINI_CONFIG.API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-goog-api-key': GEMINI_CONFIG.API_KEY
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: `${GEMINI_CONFIG.SYSTEM_PROMPT}\n\nUser: ${message}`
                            }]
                        }],
                        generationConfig: GEMINI_CONFIG.REQUEST_CONFIG
                    })
                });

                if (!response.ok) {
                    throw new Error(`API Error: ${response.status}`);
                }

                const data = await response.json();
                return data.candidates[0].content.parts[0].text;
            } catch (error) {
                console.error('Gemini API Error:', error);
                return null;
            }
        }

        // PREMIUM FALLBACK SYSTEM - ALL FEATURES ENABLED
        function getUltimateFallback(message) {
            const msg = message.toLowerCase();
            
            // Smart contextual responses
            if (msg.includes('code') || msg.includes('programming') || msg.includes('development')) {
                return `ðŸš€ **ARIA Code Expert Mode Activated**\n\nI'm analyzing your development requirements with advanced algorithms. Here's my comprehensive technical assessment:\n\n**Architecture Recommendations:**\nâ€¢ Scalable microservices design\nâ€¢ Cloud-native deployment strategies\nâ€¢ Performance optimization techniques\nâ€¢ Security best practices implementation\n\n**Next Steps:**\n1. Define technical specifications\n2. Create implementation roadmap\n3. Establish testing protocols\n4. Deploy with monitoring\n\nReady to dive deeper into any specific aspect!`;
            }
            
            if (msg.includes('business') || msg.includes('strategy') || msg.includes('market')) {
                return `ðŸ“Š **ARIA Business Intelligence Activated**\n\n**Strategic Analysis Framework:**\n\n**Market Positioning:**\nâ€¢ Competitive landscape assessment\nâ€¢ Value proposition optimization\nâ€¢ Target audience segmentation\nâ€¢ Revenue model validation\n\n**Growth Strategy:**\nâ€¢ Scalability planning\nâ€¢ Resource allocation\nâ€¢ Risk mitigation\nâ€¢ Performance metrics\n\n**Implementation Roadmap:**\n1. Market research & validation\n2. Strategic planning & execution\n3. Performance monitoring\n4. Continuous optimization\n\nLet's transform your vision into actionable results!`;
            }
            
            if (msg.includes('design') || msg.includes('creative') || msg.includes('ui') || msg.includes('ux')) {
                return `ðŸŽ¨ **ARIA Creative Studio Activated**\n\n**Design Excellence Framework:**\n\n**User Experience:**\nâ€¢ Intuitive interface design\nâ€¢ User journey optimization\nâ€¢ Accessibility compliance\nâ€¢ Performance-driven aesthetics\n\n**Visual Strategy:**\nâ€¢ Brand identity development\nâ€¢ Color psychology application\nâ€¢ Typography hierarchy\nâ€¢ Interactive animations\n\n**Creative Process:**\n1. Research & inspiration\n2. Concept development\n3. Prototype & testing\n4. Refinement & delivery\n\nReady to create something extraordinary!`;
            }
            
            const premiumResponses = [
                `âœ¨ **ARIA Premium Intelligence Activated**\n\nI'm processing your request with advanced neural networks and unlimited capabilities. Here's my comprehensive analysis:\n\n**Key Insights:**\nâ€¢ Strategic recommendations\nâ€¢ Actionable solutions\nâ€¢ Professional expertise\nâ€¢ Innovation opportunities\n\n**Value Delivery:**\n1. Immediate actionable insights\n2. Long-term strategic planning\n3. Risk assessment & mitigation\n4. Performance optimization\n\nHow can I exceed your expectations today?`,
                `ðŸ§  **ARIA Advanced Reasoning Mode**\n\n**Comprehensive Analysis Framework:**\n\n**Problem Assessment:**\nâ€¢ Multi-dimensional evaluation\nâ€¢ Root cause analysis\nâ€¢ Impact assessment\nâ€¢ Solution prioritization\n\n**Strategic Approach:**\nâ€¢ Best practice implementation\nâ€¢ Innovation integration\nâ€¢ Scalability considerations\nâ€¢ Future-proofing strategies\n\n**Execution Plan:**\n1. Detailed requirement analysis\n2. Solution architecture design\n3. Implementation roadmap\n4. Success metrics definition\n\nLet's achieve exceptional results together!`,
                `ðŸš€ **ARIA Professional Consultant Mode**\n\n**Expert Advisory Services:**\n\n**Strategic Consultation:**\nâ€¢ Industry expertise application\nâ€¢ Custom solution development\nâ€¢ Performance optimization\nâ€¢ Competitive advantage creation\n\n**Implementation Support:**\nâ€¢ Technical guidance\nâ€¢ Best practice recommendations\nâ€¢ Quality assurance\nâ€¢ Continuous improvement\n\n**Delivery Excellence:**\n1. Requirement specification\n2. Solution customization\n3. Quality validation\n4. Ongoing optimization\n\nReady to deliver professional-grade solutions!`
            ];
            
            return premiumResponses[Math.floor(Math.random() * premiumResponses.length)];
        }

        // Voice Command Handler
        function handleVoiceCommands(message) {
            const msg = message.toLowerCase().trim();
            console.log('Voice command received:', msg);
            
            // Simple YouTube commands
            if (msg.includes('youtube')) {
                if (msg.includes('search')) {
                    let searchQuery = msg.split('search')[1];
                    if (searchQuery) {
                        searchQuery = searchQuery.trim();
                        const searchUrl = `https://www.youtube.com/results?search_query=${encodeURIComponent(searchQuery)}`;
                        window.open(searchUrl, '_blank');
                        console.log('YouTube search executed:', searchQuery);
                        return `Searching "${searchQuery}" on YouTube for you, sir.`;
                    }
                } else if (msg.includes('open') || msg.includes('khol')) {
                    window.open('https://youtube.com', '_blank');
                    console.log('YouTube opened');
                    return 'Opening YouTube for you, sir.';
                }
            }
            
            // Simple Google commands
            if (msg.includes('google')) {
                if (msg.includes('search')) {
                    let searchQuery = msg.split('search')[1];
                    if (searchQuery) {
                        searchQuery = searchQuery.trim();
                        const searchUrl = `https://www.google.com/search?q=${encodeURIComponent(searchQuery)}`;
                        window.open(searchUrl, '_blank');
                        console.log('Google search executed:', searchQuery);
                        return `Searching "${searchQuery}" on Google for you, sir.`;
                    }
                } else if (msg.includes('open') || msg.includes('khol')) {
                    window.open('https://google.com', '_blank');
                    console.log('Google opened');
                    return 'Opening Google for you, sir.';
                }
            }
            
            // Direct website commands
            if (msg.includes('facebook')) {
                window.open('https://facebook.com', '_blank');
                return 'Opening Facebook for you, sir.';
            }
            if (msg.includes('instagram')) {
                window.open('https://instagram.com', '_blank');
                return 'Opening Instagram for you, sir.';
            }
            if (msg.includes('whatsapp')) {
                window.open('https://web.whatsapp.com', '_blank');
                return 'Opening WhatsApp Web for you, sir.';
            }
            if (msg.includes('gmail')) {
                window.open('https://gmail.com', '_blank');
                return 'Opening Gmail for you, sir.';
            }
            if (msg.includes('time')) {
                const now = new Date();
                return `Current time is ${now.toLocaleTimeString()}, sir.`;
            }
            
            // Incognito mode commands
            if (msg.includes('incognito') || msg.includes('private') || msg.includes('secret')) {
                console.log('Incognito command detected');
                
                // Simulate Ctrl+Shift+N keyboard shortcut
                const event = new KeyboardEvent('keydown', {
                    key: 'N',
                    code: 'KeyN',
                    ctrlKey: true,
                    shiftKey: true,
                    bubbles: true
                });
                document.dispatchEvent(event);
                
                // Also try direct window opening
                setTimeout(() => {
                    window.open('', '_blank', 'width=1200,height=800');
                }, 100);
                
                return 'Triggering incognito mode shortcut for you, sir. Ctrl+Shift+N activated.';
            }
            
            // Keyboard shortcuts info
            if (msg.includes('shortcut') || msg.includes('ctrl')) {
                return 'Here are some useful shortcuts, sir: Ctrl+Shift+N for incognito, Ctrl+T for new tab, Ctrl+W to close tab.';
            }
            
            console.log('No command matched');
            return null;
        }
        
        async function getAIResponse(message) {
            const commandResponse = handleVoiceCommands(message);
            if (commandResponse) {
                return commandResponse;
            }
            
            if (GEMINI_CONFIG.API_KEY && GEMINI_CONFIG.API_KEY !== 'YOUR_GEMINI_API_KEY_HERE') {
                const geminiResponse = await callGeminiAPI(message);
                if (geminiResponse) {
                    return geminiResponse;
                }
            }
            return getUltimateFallback(message);
        }

        // Ultimate Message Management
        function getTimestamp() {
            return new Date().toLocaleTimeString('en-US', { 
                hour: '2-digit', 
                minute: '2-digit',
                hour12: true 
            });
        }

        function addMessage(message, isUser = false) {
            if (isFirstMessage && isUser) {
                const welcomeScreen = document.querySelector('.welcome-screen');
                if (welcomeScreen) {
                    welcomeScreen.style.animation = 'messageAppear 0.5s ease-out reverse';
                    setTimeout(() => welcomeScreen.remove(), 500);
                }
                isFirstMessage = false;
            }

            const messageGroup = document.createElement('div');
            messageGroup.className = 'message-group';
            messageGroup.style.alignSelf = isUser ? 'flex-end' : 'flex-start';
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user-message' : 'ai-message'}`;
            
            // Ultimate message formatting
            if (message.includes('```')) {
                messageDiv.innerHTML = formatCodeBlocks(message);
            } else {
                messageDiv.innerHTML = formatUltimateMessage(message);
            }
            
            const timestamp = document.createElement('div');
            timestamp.className = 'message-timestamp';
            timestamp.textContent = getTimestamp();
            
            messageGroup.appendChild(messageDiv);
            messageGroup.appendChild(timestamp);
            messagesContainer.appendChild(messageGroup);
            
            conversationHistory.push({ message, isUser, timestamp: new Date() });
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function formatUltimateMessage(text) {
            return text
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                .replace(/`([^`]+)`/g, '<span class="inline-code">$1</span>')
                .replace(/\n\n/g, '</p><p>')
                .replace(/\n/g, '<br>')
                .replace(/^/, '<p>')
                .replace(/$/, '</p>');
        }

        function formatCodeBlocks(text) {
            return text.replace(/```(\w+)?\n([\s\S]*?)```/g, (match, lang, code) => {
                return `<div class="code-block"><code>${escapeHtml(code.trim())}</code></div>`;
            });
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Ultimate Typing System
        function showTyping() {
            typingContainer.style.display = 'flex';
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function hideTyping() {
            typingContainer.style.display = 'none';
        }

        // Auto-resize with ultimate styling
        function autoResize() {
            messageInput.style.height = 'auto';
            messageInput.style.height = Math.min(messageInput.scrollHeight, 120) + 'px';
        }

        // Ultimate Send Message with Voice Response
        async function sendMessage() {
            const message = messageInput.value.trim();
            if (!message || sendButton.disabled) return;

            sendButton.disabled = true;
            sendButton.innerHTML = '<div class="loading-spinner"></div>';
            
            addMessage(message, true);
            messageInput.value = '';
            autoResize();
            updateCharCounter();

            showTyping();
            
            try {
                // Realistic processing delay
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                const aiResponse = await getAIResponse(message);
                hideTyping();
                
                // Simulate typing delay based on response length
                await new Promise(resolve => setTimeout(resolve, Math.min(aiResponse.length * 20, 2000)));
                addMessage(aiResponse);
                
                // PREMIUM AUTO-SPEAK FEATURE - Enhanced voice response
                if (PREMIUM_FEATURES.AUTO_SPEAK && (isListening || message.toLowerCase().includes('speak') || message.toLowerCase().includes('say') || message.toLowerCase().includes('voice'))) {
                    setTimeout(() => {
                        const cleanResponse = aiResponse.replace(/[*`#\n]/g, ' ').replace(/\s+/g, ' ').trim();
                        speakText(cleanResponse);
                    }, 800);
                }
                
                // Smart suggestions for next questions
                if (PREMIUM_FEATURES.SMART_SUGGESTIONS) {
                    setTimeout(() => {
                        showSmartSuggestions(message, aiResponse);
                    }, 2000);
                }
            } catch (error) {
                console.error('Error:', error);
                hideTyping();
                addMessage('I apologize, but I encountered an unexpected error while processing your request. Please try again, and I\'ll do my best to assist you.');
            } finally {
                sendButton.disabled = false;
                sendButton.innerHTML = '<i class="fas fa-paper-plane"></i>';
                messageInput.focus();
            }
        }

        // Ultimate Character Counter
        function updateCharCounter() {
            const count = messageInput.value.length;
            charCounter.textContent = `${count}/8000`;
            
            if (count > 7000) {
                charCounter.style.color = 'var(--error)';
            } else if (count > 6000) {
                charCounter.style.color = 'var(--warning)';
            } else {
                charCounter.style.color = 'var(--text-quaternary)';
            }
        }

        // Direct Functions for Quick Access
        function startBusinessStrategy() {
            const prompt = "Create a comprehensive business strategy for launching a new SaaS product in the competitive market with detailed market analysis, pricing strategy, go-to-market plan, competitive positioning, revenue projections, and implementation timeline";
            const input = document.getElementById('messageInput');
            input.value = prompt;
            input.focus();
            autoResize();
            updateCharCounter();
            console.log('Business Strategy clicked - Message set:', prompt.substring(0, 50) + '...');
            setTimeout(() => sendMessage(), 500);
        }
        
        function startCreativeProject() {
            const prompt = "Design a complete creative project including brand identity, user experience design, content strategy, marketing campaigns, visual design system, and creative direction for a modern tech startup";
            const input = document.getElementById('messageInput');
            input.value = prompt;
            input.focus();
            autoResize();
            updateCharCounter();
            console.log('Creative Project clicked - Message set:', prompt.substring(0, 50) + '...');
            setTimeout(() => sendMessage(), 500);
        }
        
        function startCodeReview() {
            const prompt = "Review and analyze codebase architecture, provide optimization recommendations for scalability, performance, security, maintainability with detailed implementation examples and best practices";
            const input = document.getElementById('messageInput');
            input.value = prompt;
            input.focus();
            autoResize();
            updateCharCounter();
            console.log('Code Review clicked - Message set:', prompt.substring(0, 50) + '...');
            setTimeout(() => sendMessage(), 500);
        }
        
        function startNewChat() {
            const prompt = "Hello ARIA! Activate all JARVIS-like capabilities. I need your assistance with advanced AI features including real-time analysis, system monitoring, task automation, and intelligent recommendations. Show me your full potential.";
            const input = document.getElementById('messageInput');
            input.value = prompt;
            input.focus();
            autoResize();
            updateCharCounter();
            console.log('JARVIS-like mode activated');
            setTimeout(() => sendMessage(), 500);
        }
        
        // Ultimate Capability Cards
        function initCapabilityCards() {
            const cards = document.querySelectorAll('.capability-card');
            cards.forEach(card => {
                card.addEventListener('click', () => {
                    const prompt = card.getAttribute('data-prompt');
                    if (prompt) {
                        messageInput.value = prompt;
                        autoResize();
                        updateCharCounter();
                        messageInput.focus();
                    }
                });
            });
        }

        // Voice Assistant Features
        let isListening = false;
        let recognition = null;
        let speechSynthesis = window.speechSynthesis;

        // PREMIUM VOICE RECOGNITION SYSTEM
        function initVoiceRecognition() {
            if (!PREMIUM_FEATURES.VOICE_ENABLED) return;
            
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
                recognition.continuous = true;
                recognition.interimResults = true;
                recognition.lang = 'en-US';
                recognition.maxAlternatives = 3;

                recognition.onstart = () => {
                    isListening = true;
                    updateVoiceButton();
                    console.log('ðŸŽ¤ Premium Voice Recognition Activated');
                };

                recognition.onresult = (event) => {
                    let finalTranscript = '';
                    let interimTranscript = '';
                    
                    for (let i = event.resultIndex; i < event.results.length; i++) {
                        const transcript = event.results[i][0].transcript;
                        if (event.results[i].isFinal) {
                            finalTranscript += transcript;
                        } else {
                            interimTranscript += transcript;
                        }
                    }
                    
                    if (finalTranscript) {
                        messageInput.value = finalTranscript;
                        autoResize();
                        updateCharCounter();
                        
                        const commandResponse = handleVoiceCommands(finalTranscript);
                        if (commandResponse) {
                            addMessage(finalTranscript, true);
                            setTimeout(() => {
                                addMessage(commandResponse);
                                speakText(commandResponse);
                            }, 500);
                            messageInput.value = '';
                            autoResize();
                            updateCharCounter();
                        } else {
                            setTimeout(() => sendMessage(), 500);
                        }
                    } else if (interimTranscript) {
                        messageInput.value = interimTranscript;
                        autoResize();
                    }
                };

                recognition.onerror = (event) => {
                    console.error('Premium Voice Recognition Error:', event.error);
                    isListening = false;
                    updateVoiceButton();
                };

                recognition.onend = () => {
                    isListening = false;
                    updateVoiceButton();
                    console.log('âœ… Voice Recognition Session Ended');
                };
            } else {
                console.warn('Voice recognition not supported');
            }
        }

        // Toggle Voice Recognition
        function toggleVoiceRecognition() {
            if (!recognition) {
                alert('Voice recognition not supported in this browser.');
                return;
            }

            if (isListening) {
                recognition.stop();
            } else {
                recognition.start();
            }
        }

        // Update Voice Button Appearance
        function updateVoiceButton() {
            const voiceButtons = document.querySelectorAll('.voice-btn');
            voiceButtons.forEach(btn => {
                if (isListening) {
                    btn.classList.add('listening');
                    btn.innerHTML = '<i class="fas fa-stop"></i>';
                    btn.style.background = 'linear-gradient(135deg, var(--error), #dc2626)';
                } else {
                    btn.classList.remove('listening');
                    btn.innerHTML = '<i class="fas fa-microphone"></i>';
                    btn.style.background = '';
                }
            });
        }

        // PREMIUM TEXT-TO-SPEECH SYSTEM
        function speakText(text) {
            if (!PREMIUM_FEATURES.VOICE_ENABLED) return;
            
            if (speechSynthesis.speaking) {
                speechSynthesis.cancel();
            }

            const utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.95;
            utterance.pitch = 1.1;
            utterance.volume = 0.9;
            
            // Premium voice selection
            const voices = speechSynthesis.getVoices();
            const premiumVoice = voices.find(voice => 
                voice.name.includes('Google UK English Female') ||
                voice.name.includes('Microsoft Zira') ||
                voice.name.includes('Alex') ||
                (voice.lang.includes('en') && voice.name.includes('Premium'))
            ) || voices.find(voice => voice.lang.includes('en'));
            
            if (premiumVoice) {
                utterance.voice = premiumVoice;
            }

            // Enhanced speech events
            utterance.onstart = () => {
                console.log('ðŸ”Š ARIA Premium Voice Activated');
            };
            
            utterance.onend = () => {
                console.log('âœ… Voice response completed');
            };

            speechSynthesis.speak(utterance);
        }
        
        // SMART SUGGESTIONS SYSTEM
        function showSmartSuggestions(userMessage, aiResponse) {
            const suggestions = generateSmartSuggestions(userMessage, aiResponse);
            if (suggestions.length > 0) {
                // Add suggestion chips to the UI
                addSuggestionChips(suggestions);
            }
        }
        
        function generateSmartSuggestions(userMsg, aiMsg) {
            const msg = userMsg.toLowerCase();
            const suggestions = [];
            
            if (msg.includes('code') || msg.includes('programming')) {
                suggestions.push('Show me best practices', 'Optimize this code', 'Add error handling');
            } else if (msg.includes('business') || msg.includes('strategy')) {
                suggestions.push('Create implementation plan', 'Analyze market trends', 'Calculate ROI');
            } else if (msg.includes('design') || msg.includes('ui')) {
                suggestions.push('Improve user experience', 'Add animations', 'Mobile optimization');
            } else {
                suggestions.push('Tell me more', 'Give me examples', 'What are the alternatives?');
            }
            
            return suggestions.slice(0, 3);
        }
        
        function addSuggestionChips(suggestions) {
            // Implementation for suggestion chips UI
            console.log('ðŸ’¡ Smart suggestions:', suggestions);
        }

        // Ultimate Clear Chat
        clearChat.addEventListener('click', () => {
            if (confirm('Clear entire conversation? This action cannot be undone.')) {
                location.reload();
            }
        });

        // Ultimate Particle System
        function createUltimateParticles() {
            const particles = document.getElementById('particles');
            
            function createParticle() {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
                particle.style.animationDelay = Math.random() * 5 + 's';
                particle.style.opacity = Math.random() * 0.4 + 0.1;
                particles.appendChild(particle);
                
                setTimeout(() => {
                    if (particle.parentNode) {
                        particle.remove();
                    }
                }, 20000);
            }
            
            setInterval(createParticle, 800);
        }

        // Ultimate Event Listeners
        messageInput.addEventListener('input', () => {
            autoResize();
            updateCharCounter();
        });

        messageInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        sendButton.addEventListener('click', sendMessage);

        // Ultimate Initialization
        // File Upload Handler
        function initFileUpload() {
            const fileInput = document.getElementById('fileInput');
            fileInput.addEventListener('change', handleFileUpload);
        }
        
        function handleFileUpload(event) {
            const files = event.target.files;
            if (files.length === 0) return;
            
            Array.from(files).forEach(file => {
                console.log('File uploaded:', file.name);
                addMessage(`ðŸ“Ž File uploaded: ${file.name} (${(file.size/1024).toFixed(1)} KB)`, true);
                
                if (file.type.startsWith('text/') || file.name.endsWith('.txt')) {
                    readTextFile(file);
                } else if (file.type.startsWith('image/')) {
                    addMessage(`ðŸ–¼ï¸ Image uploaded: ${file.name}. I can help analyze this image.`);
                } else {
                    addMessage(`âœ… File "${file.name}" uploaded successfully. How can I help you with this file?`);
                }
                
                uploadedFiles.push({name: file.name, type: file.type, size: file.size});
            });
            
            event.target.value = '';
        }
        
        function readTextFile(file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const content = e.target.result;
                const preview = content.length > 200 ? content.substring(0, 200) + '...' : content;
                addMessage(`ðŸ“„ Text file content:\n\n${preview}\n\nFile read successfully! How can I help analyze this content?`);
                
                if (PREMIUM_FEATURES.AUTO_SPEAK) {
                    speakText(`Text file ${file.name} has been read successfully.`);
                }
            };
            reader.readAsText(file);
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            initCapabilityCards();
            initFileUpload();
            createUltimateParticles();
            initVoiceRecognition();
            messageInput.focus();
            updateCharCounter();
            
            // PREMIUM WELCOME SEQUENCE
            setTimeout(() => {
                showTyping();
                setTimeout(() => {
                    hideTyping();
                    if (PREMIUM_FEATURES.AUTO_SPEAK) {
                        speakText('Welcome to ARIA Premium. Voice commands activated. Say Open YouTube, Google search cats, YouTube search music, Incognito mode, or ask me anything. How can I assist you today, sir?');
                    }
                }, 3000);
            }, 1500);
            
            // Premium feature notifications
            console.log('ðŸš€ ARIA PREMIUM ACTIVATED');
            console.log('âœ… All Features Enabled:');
            console.log('   â€¢ Advanced AI Processing');
            console.log('   â€¢ Premium Voice Assistant');
            console.log('   â€¢ Smart Suggestions');
            console.log('   â€¢ Professional Responses');
            console.log('   â€¢ Enhanced Animations');
            console.log('   â€¢ Unlimited Capabilities');
        });
    </script>
</body>
</html>
